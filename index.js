const wait = require('./lib/wait');
const getImprintsBySku = require('./lib/imprints');
const downloadFile = require('./lib/download');
const compressFile = require('./lib/compress');
const uploadFile = require('./lib/upload');
const fs = require('fs');

(async () => {

    const CATEGORIES_AWS_JLMAYORGACO = ['catalog/accessoires', 'catalog/art-de-la-table-et-de-la-maison', 'catalog/outils-et-lampes','catalog/papeterie', 'catalog/bureau',  'catalog/parapluies', 'catalog/jeux-et-jouets',
    'catalog/bouteilles', 'catalog/loisirs-et-golf'];
    const CATEGORIES_AWS_QSO_PROD = ['catalog/vestes', 'catalog/polaire','catalog/sécurité-&-premiers-soins', 'catalog/voyages-&-bagagerie',
    'catalog/voyages-&-bagagerie', 'catalog/stylos'];
    const CATEGORIES_AWS_PIT_PROD = ['catalog/montres', 'catalog/hauts','catalog/pulls-et-gilets'];
    const CATEGORIES_LOCAL = ['catalog/audio-&-vidéo', 'catalog/technologie',
    'catalog/pendules', 'catalog/primes',
    'catalog/santé-et-bien-être', 
    'catalog'];

        // For Each Category
        const category = 'bottles and pendules';
        console.log(' ');
        console.log('CATEGORY => '+category);
        console.log(' ');

        

        // skus  for HULTS
        const skus_papeterie = ["8713159356790","8713159319245","8713159118602","8713159040484","8713159117995","8713159319214","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159307037","8713159307136","8713159308805","8713159307679","8713159335603","8713159352211","8713159352457","8713159347835","8713159351269","8713159351306","8713159351573","8713159359371","8713159352402","8713159359449","8713159357100","8713159207160","8713159118664","8713159306726","8713159214731","8713159132509","8713159242772","8713159242703","8713159258230","8713159258100","8713159244141","8713159335566","8713159353560","8713159144601","8713159240136","8713159253396","8713159253402","8713159300069","8713159308904","8713159347996","8713159254294","8713159262862","8713159275374","8713159233954","8713159145011","8713159053699","8713159048268","8713159256069","8713159232858","8713159306467","8713159145004","8713159053248","8713159300557","8713159307624","8713159244141","8713159335566","8713159353560","8713159144601","8713159240136","8713159253396","8713159253402","8713159300069","8713159308904","8713159347996","8713159254294","8713159262862","8713159275374","8713159233954","8713159145011","8713159053699","8713159048268","8713159256069","8713159232858","8713159306467","8713159145004","8713159053248","8713159300557","8713159307624","8713159244141","8713159335566","8713159353560","8713159144601","8713159240136","8713159253396","8713159253402","8713159300069","8713159308904","8713159347996","8713159254294","8713159262862","8713159275374","8713159233954","8713159145011","8713159053699","8713159048268","8713159256069","8713159232858","8713159306467","8713159145004","8713159053248","8713159300557","8713159307624","8713159244141","8713159335566","8713159353560","8713159144601","8713159240136","8713159253396","8713159253402","8713159300069","8713159308904","8713159347996","8713159254294","8713159262862","8713159275374","8713159233954","8713159145011","8713159053699","8713159048268","8713159256069","8713159232858","8713159306467","8713159145004","8713159053248","8713159300557","8713159307624","8713159244141","8713159335566","8713159353560","8713159144601","8713159240136","8713159253396","8713159253402","8713159300069","8713159308904","8713159347996","8713159254294","8713159262862","8713159275374","8713159233954","8713159145011","8713159053699","8713159048268","8713159256069","8713159232858","8713159306467","8713159145004","8713159053248","8713159300557","8713159307624","8713159244141","8713159335566","8713159353560","8713159144601","8713159240136","8713159253396","8713159253402","8713159300069","8713159308904","8713159347996","8713159254294","8713159262862","8713159275374","8713159233954","8713159145011","8713159053699","8713159048268","8713159256069","8713159232858","8713159306467","8713159145004","8713159053248","8713159300557","8713159307624","8713159244141","8713159335566","8713159353560","8713159144601","8713159240136","8713159253396","8713159253402","8713159300069","8713159308904","8713159347996","8713159254294","8713159262862","8713159275374","8713159233954","8713159145011","8713159053699","8713159048268","8713159256069","8713159232858","8713159306467","8713159145004","8713159053248","8713159300557","8713159307624"]
        const skus = skus_papeterie;

        // For Each Pages SKUS
        const N = skus.length;
        for(let s = 0; s < N ; s++){
            const sku = skus[s];
            const imprints = await getImprintsBySku(sku);
            
            for(let i = 0; i < imprints.length ; i++){
            
                try{
                    const filename = await downloadFile(imprints[i].image);
                    const compress = await compressFile(filename);
                    const upload = await uploadFile(filename);

                } catch( error ){

                }

                console.log(`CATEGORY ${category} SKU ${sku} Image ${imprints[i].image}  i ${i}/${imprints.length}`);
            }
        }


})();
